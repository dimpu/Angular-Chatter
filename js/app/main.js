(function(e){e("RunManager",[],function(){var e=function(e,t){console.log("run"),e.$on("$routeChangeStart",function(e,t,n){})};return e.$inject=["$rootScope","$location"],e})})(define),function(e){e("modules/app/services/dataFactory",[],function(){var e=function(e,t){var n="docEemXMEKY0WbS-EKHKHXCQQuolbDYP",r="chatter",i="https://api.mongolab.com/api/1/databases",s=function(t,s){s=s||{};var o={};o.q=JSON.stringify(s),o.apiKey=n;var u=i+"/"+r+"/collections/"+t;return e({method:"GET",url:u,params:o,cache:!1})},o=function(t,s,o){o=o||{},o.apiKey=n;var u=i+"/"+r+"/collections/"+t+"/"+s;return e({method:"GET",url:u,params:o,cache:!1})},u=function(t,s){var o=i+"/"+r+"/collections/"+t+"?apiKey="+n;return e({method:"POST",url:o,data:JSON.stringify(s),cache:!1})},a=function(t,s){var o=i+"/"+r+"/collections/"+t+"/"+s._id.$oid+"?apiKey="+n;return e({method:"PUT",url:o,data:JSON.stringify(s),cache:!1})},f=function(t,s){var o=i+"/"+r+"/collections/"+t+"/"+s._id.$oid+"?apiKey="+n;return e({method:"DELETE",url:o,cache:!1})};return{query:s,queryById:o,create:u,update:a,"delete":f}};return e.$inject=["$http","$q"],e})}(define),function(e){e("modules/auth/directives/uniqueUserDirective",["modules/app/services/dataFactory"],function(e){var t=function(e,t,n,r){return{require:"ngModel",link:function(e,n,i,s){s.$asyncValidators.uniqueuser=function(e,i){if(s.$isEmpty(e))return t.when();var o=t.defer();return r.query("users",{username:n.val()}).success(function(e,t,n,r){e.length>0?o.reject():o.resolve()}).error(function(e,t,n,r){o.resolve()}),o.promise}}}};return t.$inject=["$http","$q","$timeout","dataFactory"],t})}(define),function(e){e("modules/auth/directives/uniqueEmailDirective",["modules/app/services/dataFactory"],function(e){var t=function(e,t,n,r){return{require:"ngModel",link:function(e,n,i,s){s.$asyncValidators.uniquemail=function(e,i){if(s.$isEmpty(e))return t.when();var o=t.defer();return r.query("users",{email:n.val()}).success(function(e,t,n,r){e.length>0?o.reject():o.resolve()}).error(function(e,t,n,r){o.resolve()}),o.promise}}}};return t.$inject=["$http","$q","$timeout","dataFactory"],t})}(define),function(e){e("modules/auth/controller/LoginCtrl",[],function(){var e=function(e,t,n,r){e.loginError=!1;var i=Ladda.create(document.getElementById("form-login-btn"));e.login=function(t){i.start(),r.login(t,function(t){t?(e.loginSuccess=!0,e.loginError=!1,n.path("/rooms")):e.loginError=!0,i.stop()})}};return e.$inject=["$scope","$cookieStore","$location","AuthService"],e})}(define),function(e){e("modules/auth/controller/RegisterCtrl",["modules/app/services/dataFactory"],function(e){var t=function(e,t,n,r){e.register_user=function(t){e.registerForm.$invalid&&(e.isInValid=!0);var i=Ladda.create(document.getElementById("form-register-btn"));t.Created=t.Updated=(new Date).getTime(),i.start(),r.register(t,function(e){e&&n.path("/rooms"),i.stop()})}};return t.$inject=["$scope","$cookieStore","$location","AuthService"],t})}(define),function(e){e("modules/auth/controller/ForgetCtrl",[],function(){var e=function(e){};return e.$inject=["$scope"],e})}(define),function(e){e("modules/auth/services/AuthService",[],function(){var e=function(e,t){var n=this;return n.login=function(e,r){t.query("users",e).success(function(e){if(e.length){var t={LoggedInUserId:e[0]._id.$oid,LoggedInNickName:e[0].NickName};n.createCookies(t),r(!0)}else r(!1)}).error(function(e){r(!1)})},n.register=function(e,r){t.create("users",e).success(function(e){var t={LoggedInUserId:e._id.$oid,LoggedInNickName:e.NickName};n.createCookies(t),r(!0)}).error(function(){callabck(!1)})},n.isAuthenticated=function(){return e.get("LoggedInUserId")==undefined?!1:!0},n.logout=function(){e.remove("LoggedInUserId"),e.remove("LoggedInUserId")},n.createCookies=function(t){e.put("LoggedInUserId",t.LoggedInUserId),e.put("LoggedInNickName",t.LoggedInNickName)},n};return e.$inject=["$cookieStore","dataFactory"],e})}(define),function(e,t){e("modules/auth/auth",["modules/app/services/dataFactory","modules/auth/directives/uniqueUserDirective","modules/auth/directives/uniqueEmailDirective","modules/auth/controller/LoginCtrl","modules/auth/controller/RegisterCtrl","modules/auth/controller/ForgetCtrl","modules/auth/services/AuthService"],function(e,n,r,i,s,o,u){var a="Auth";return t.module(a,["ngCookies"]).factory("dataFactory",e).factory("AuthService",u).directive("uniqueuser",n).directive("uniquemail",r).controller("LoginCtrl",i).controller("RegisterCtrl",s).controller("ForgetCtrl",o),a})}(define,angular),function(e){e("modules/rooms/controllers/HomeCtrl",["modules/app/services/dataFactory"],function(){var e=function(e,t,n,r){e.rooms=[],e.IsLoading=!0,e.RoomsNotAvilable=!1;var i={$or:[{CreatorId:t.get("LoggedInUserId")},{IsPublic:"true"}]};r.query("rooms",i).success(function(t){e.rooms=t,e.IsLoading=!1,t.length>0?e.RoomsNotAvilable=!1:e.RoomsNotAvilable=!0})};return e.$inject=["$scope","$cookieStore","$location","dataFactory"],e})}(define),function(e){e("modules/rooms/controllers/MenuCtrl",[],function(){var e=function(e,t,n,r){t.log("Initialize Menu"+new Date),e.logout=function(){r.path("/")}};return e.$inject=["$scope","$log","$cookieStore","$location"],e})}(define),function(e){e("modules/rooms/controllers/CreateCtrl",[],function(){var e=function(e,t,n,r){var i=Ladda.create(document.getElementById("form-room-crete-btn"));e.createRoom=function(e){e.CreatorId=t.get("LoggedInUserId"),i.start(),r.create("rooms",e).success(function(e){i.stop(),n.path("/rooms")})}};return e.$inject=["$scope","$cookieStore","$location","dataFactory"],e})}(define),function(e){e("modules/rooms/controllers/ChatCtrl",[],function(){var e=function(e,t,n,r,i,s,o){e.ChatTitle="No Title",e.msgs=[],e.NoChat=!1,e.isLoading=!0,e.scrollTop=0,e.scrollHeight=0,e.pushMsg=function(t){t.User={NickName:r.get("LoggedInNickName"),UserId:r.get("LoggedInUserId")},t.RoomId=s.RoomId,t.Created=(new Date).getTime(),o.create("msgs",t).success(function(e){console.log(e)}),e.msg.MsgText=""},e.onScroll=function(t,n){e.scrollTop=t,e.scrollHeight=n},o.queryById("rooms",s.RoomId).success(function(t){e.ChatTitle=t.RoomName}),function u(){o.query("msgs",{RoomId:s.RoomId}).then(function(t){t.data.length?e.NoChat=!1:e.NoChat=!0,e.msgs=t.data,e.isLoading=!1,$(".scroller").scrollTop($(".scroller div").height()),$(".scroller").perfectScrollbar("update"),n(u(),500)})}()};return e.$inject=["$scope","$log","$interval","$cookieStore","$location","$routeParams","dataFactory"],e})}(define),function(e){e("modules/rooms/directives/uniqueRommDirective",["modules/app/services/dataFactory"],function(e){var t=function(e,t,n,r){return{require:"ngModel",link:function(e,n,i,s){s.$asyncValidators.uniquemail=function(e,i){if(s.$isEmpty(e))return t.when();var o=t.defer();return r.query("rooms",{RoomName:n.val()}).success(function(e,t,n,r){e.length>0?o.reject():o.resolve()}).error(function(e,t,n,r){o.resolve()}),o.promise}}}};return t.$inject=["$http","$q","$timeout","dataFactory"],t})}(define),function(e){e("modules/rooms/rooms",["modules/rooms/controllers/HomeCtrl","modules/rooms/controllers/MenuCtrl","modules/rooms/controllers/CreateCtrl","modules/rooms/controllers/ChatCtrl","modules/rooms/directives/uniqueRommDirective"],function(e,t,n,r,i){var s="Rooms";return angular.module(s,["perfect_scrollbar"]).controller("rooms.HomeCtrl",e).controller("rooms.CreateCtrl",n).controller("rooms.ChatCtrl",r).directive("uniqueroom",i).controller("rooms.MenuCtrl",t),s})}(define),function(){define("RouteManager",[],function(){var e=function(e){e.when("/login",{templateUrl:"./js/app/modules/auth/views/login.html",controller:"LoginCtrl"}).when("/register",{templateUrl:"./js/app/modules/auth/views/register.html",controller:"RegisterCtrl"}).when("/forget",{templateUrl:"./js/app/modules/auth/views/forget.html",controller:"ForgetCtrl"}).when("/rooms",{templateUrl:"./js/app/modules/rooms/views/home.html",controller:"rooms.HomeCtrl",resolve:!1}).when("/rooms/create",{templateUrl:"./js/app/modules/rooms/views/create.html",controller:"rooms.CreateCtrl"}).when("/room/:RoomId",{templateUrl:"./js/app/modules/rooms/views/chat.html",controller:"rooms.ChatCtrl"}).otherwise({redirectTo:"/login"})};return e.$inject=["$routeProvider"],e})}(define),function(e){e("modules/app/directives/videoBgDirective",[],function(){var e=function(){return{templateUrl:"./js/app/modules/app/views/partials/video-bg.html",compile:function(e,t,n){return{post:function(){}}}}};return e})}(define),function(e){e("main",["RunManager","modules/app/services/dataFactory","modules/auth/auth","modules/rooms/rooms","RouteManager","modules/app/directives/videoBgDirective"],function(e,t,n,r,i,s){var o={},u="Chatter";return o=angular.module(u,["ngRoute","ngSanitize","ngAnimate","Auth","Rooms"]).factory("dataFactory",t).directive("videoBg",s).config(i).run(e),angular.bootstrap(document.getElementsByTagName("body")[0],[u]),o})}(define);